<div class="container-fluid relative-pos special-list special-list-h4" bs-loading-overlay
bs-loading-overlay-reference-id="employee-overlay">
  <div class="list-head">
    <div class="row">
      <div class="col-xs-12">
        <div class="white-box p-all-10 m-top-10">
          <div class="row">
            <div class="col-xs-6">
              <h1>Empleados</h1>
            </div>
            <div class="col-xs-6 text-right">
              <button class="btn btn-secondary" ng-click="employee.createEmployee()">Nuevo Empleado</button>
              <button class="btn btn-secondary" ng-click="employee.openReport()">Reporte</button>
            </div>            
            <!-- <div class="col-xs-3 text-right">
              <ngx-extended-pdf-viewer 
                 src="some.pdf"
                 useBrowserLocale="true">
              </ngx-extended-pdf-viewer>
            </div> -->
          </div>
        </div>
      </div>
    </div>

    <div class="row m-top-20">
      <div class="col-xs-12 pagination-container">
        <div class="row">
          <div class="col-xs-3 text-left">
            <form class="form-inline form-sm active-cyan-2">
              <input class="form-control" type="text" placeholder="Buscar .." ng-change="employee.searchEmployee()" ng-model="employee.query.filter">
              <i class="fa fa-search" aria-hidden="true" ></i>
            </form>
          </div>
          <div class="col-xs-3 col-xs-offset-6 text-right clearfix">
            <ul class="pagination justify-content-center">
              <li class="page-item" ng-repeat="range in employee.allowedRanges"><a
                class="{{employee.rangeSelected == range ? 'page-link pagina active' : 'page-link pagina'}}"
                ng-click="employee.setRecordsPerPage(range)">{{range}}</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="row m-top-10">
      <div class="col-xs-12 table-wrapper-scroll-y my-custom-scrollbar fixed-column-table">
        <table class="table table-bordered table-hover table-sm" cellspacing="0">
          <thead class="thead-dark">
            <tr>
              <th class="text-center th-sm" ng-class="{activeSort:employee.sort==='identification'}">CÃ©d.
                <a href="#" ng-hide="employee.direction === 'DESC' && employee.sort === 'identification'"
                class="sort-arrow pull-right"
                ng-click="employee.loadEmployee('identification','DESC'); $event.preventDefault();"><i
                class="fa fa-angle-down"></i></a>
                <a ng-hide="employee.sort !== 'identification' || (employee.sort === 'identification' && employee.direction === 'ASC')"
                href="#" class="sort-arrow pull-right"
                ng-click="employee.loadEmployee('identification','ASC'); $event.preventDefault();"><i
                class="fa fa-angle-up"></i></a>
              </th>
              <th class="text-center" ng-class="{activeSort:employee.sort==='name'}">Nombre
                <a href="#" ng-hide="employee.direction === 'DESC' && employee.sort === 'name'"
                class="sort-arrow pull-right"
                ng-click="employee.loadEmployee('name','DESC'); $event.preventDefault();"><i
                class="fa fa-angle-down"></i></a>
                <a ng-hide="employee.sort !== 'name' || (employee.sort === 'name' && employee.direction === 'ASC')"
                href="#" class="sort-arrow pull-right"
                ng-click="employee.loadEmployee('name','ASC'); $event.preventDefault();"><i
                class="fa fa-angle-up"></i></a>
              </th>
              <th class="text-center" ng-class="{activeSort:employee.sort==='email'}">Email
                <a href="#" ng-hide="employee.direction === 'DESC' && employee.sort === 'email'"
                class="sort-arrow pull-right"
                ng-click="employee.loadEmployee('email','DESC'); $event.preventDefault();"><i
                class="fa fa-angle-down"></i></a>
                <a ng-hide="employee.sort !== 'email' || (employee.sort === 'email' && employee.direction === 'ASC')"
                href="#" class="sort-arrow pull-right"
                ng-click="employee.loadEmployee('email','ASC'); $event.preventDefault();"><i
                class="fa fa-angle-up"></i></a>
              </th>
              <th class="text-center" ng-class="{activeSort:employee.sort==='phone1'}">Tel.
                <a href="#" ng-hide="employee.direction === 'DESC' && employee.sort === 'phone1'"
                class="sort-arrow pull-right"
                ng-click="employee.loadEmployee('phone1','DESC'); $event.preventDefault();"><i
                class="fa fa-angle-down"></i></a>
                <a ng-hide="employee.sort !== 'phone1' || (employee.sort === 'phone1' && employee.direction === 'ASC')"
                href="#" class="sort-arrow pull-right"
                ng-click="employee.loadEmployee('phone1','ASC'); $event.preventDefault();"><i
                class="fa fa-angle-up"></i></a>
              </th>
              <th class="text-center" ng-class="{activeSort:employee.sort==='departmentId'}">Departamento
                <a href="#" ng-hide="employee.direction === 'DESC' && employee.sort === 'departmentId'"
                class="sort-arrow pull-right"
                ng-click="employee.loadEmployee('departmentId','DESC'); $event.preventDefault();"><i
                class="fa fa-angle-down"></i></a>
                <a ng-hide="employee.sort !== 'departmentId' || (employee.sort === 'departmentId' && employee.direction === 'ASC')"
                href="#" class="sort-arrow pull-right"
                ng-click="employee.loadEmployee('departmentId','ASC'); $event.preventDefault();"><i
                class="fa fa-angle-up"></i></a>
              </th>
              <th class="text-center" ng-class="{activeSort:employee.sort==='jobPositionId'}">Puesto
                <a href="#" ng-hide="employee.direction === 'DESC' && employee.sort === 'jobPositionId'"
                class="sort-arrow pull-right"
                ng-click="employee.loadEmployee('jobPositionId','DESC'); $event.preventDefault();"><i
                class="fa fa-angle-down"></i></a>
                <a ng-hide="employee.sort !== 'jobPositionId' || (employee.sort === 'jobPositionId' && employee.direction === 'ASC')"
                href="#" class="sort-arrow pull-right"
                ng-click="employee.loadEmployee('jobPositionId','ASC'); $event.preventDefault();"><i
                class="fa fa-angle-up"></i></a>
              </th>
              <th class="text-center" ng-class="{activeSort:employee.sort==='status'}">Estado
                <a href="#" ng-hide="employee.direction === 'DESC' && employee.sort === 'status'"
                class="sort-arrow pull-right"
                ng-click="employee.loadEmployee('status','DESC'); $event.preventDefault();"><i
                class="fa fa-angle-down"></i></a>
                <a ng-hide="employee.sort !== 'status' || (employee.sort === 'status' && employee.direction === 'ASC')" href="#" class="sort-arrow pull-right"
                ng-click="employee.loadEmployee('status','ASC'); $event.preventDefault();"><i
                class="fa fa-angle-up"></i></a>
              </th>
              <th class="text-center w-10"><em class="fa fa-cog"></em></th>
            </tr>
          </thead>
          <tbody ng-show="employee.employeeList.length > 0">
            <tr ng-repeat="item in employee.employeeList">
              <td>{{ item.identification }}</td>
              <td>{{ item.name +' '+ item.firstName +' '+ item.lastName}}</td>
              <td>{{ item.email }}</td>
              <td>{{ item.phone1 }}</td>
              <td>{{ item.department.desc }}</td>
              <td>{{ item.jobPosition.desc }}</td>
              <td class="text-center">
                <div class="checkbox">
                  <input type="checkbox" class="custom-control custom-checkbox" ng-model="item.status" ng-change="employee.updateStatus(item)">
                  <label for=""></label>
                </div>
              </td>
              <td class="text-center w-10">
                <button  ng-click="employee.editEmployee(item)" class="btn btn-success"><span
                  class="glyphicon glyphicon-edit"></span></button>
                  <button ng-click="employee.deleteEmployee(item)" class="btn btn-danger"><span
                    class="glyphicon glyphicon-trash"></span></button>
                  </td>
            </tr>
          </tbody>
        </table>
        <p ng-show="employee.employeeList.length < 1">No se encontraron datos.</p>
      </div>
    </div>

    <div class="panel-footer">
      <div class="row">
        <div class="col-xs-3 text-left">
          <p class="pull-left p-top-5">Mostrando
            {{(employee.rangeSelected * (employee.pageNum-1))+1}}-{{(employee.rangeSelected* (employee.pageNum-1))+employee.numberOfPageRecords}}
          de {{employee.totalRecords}}</p>
          <uib-pagination total-items="employee.totalRecords" items-per-page="employee.rangeSelected"
          ng-change="employee.goToPage(employee.pageNum)" ng-model="employee.pageNum"
          max-size="employee.maxPaginationItems" class="pagination-sm" boundary-links-numbers="true"
          previous-text="<" next-text=">"></uib-pagination>
        </div>
      </div>
    </div>
  </div>
</div>
<utn-modal-create-employee></utn-modal-create-employee>
<utn-modal-edit-employee selected-employee="employee.selectedEmployee"></utn-modal-edit-employee>
